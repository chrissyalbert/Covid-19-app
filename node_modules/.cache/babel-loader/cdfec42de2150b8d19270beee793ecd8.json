{"ast":null,"code":"var _jsxFileName = \"/Users/christinealbert/Coding/covid-19-app/src/components/App.js\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css'; //import { GetData } from '../Data/GetData';\n\nimport './App.css';\nimport Dashboard from './Dashboard/Dashboard';\nimport SearchByState from './../Data/SearchByState';\nimport { UScases } from './Sidebar/UScases';\nimport { NewCases, USTotalCases, StateTotalCases } from './Sidebar/ToggleCases';\nimport { USPerCapitaCases } from './Sidebar/PerCapita';\nimport { Covid } from '../Data/data';\n\nconst axios = require('axios');\n\nconst csvStatesUrl = process.env.REACT_APP_CSV;\nconst csvUrl = process.env.REACT_APP_USCSV;\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = async selected => {\n      await this.setState({\n        selected: selected.value\n      }, () => console.log(`state.selected: `, this.state.selected));\n      this.getData(csvStatesUrl, Covid.handleStateCSVResult, this.state.selected).then(response => {\n        console.log(response);\n        this.setState({\n          selectedState: response,\n          totalCases: true\n        }, () => console.log(`this.state: `, this.state));\n      });\n    };\n\n    this.state = {\n      selected: null,\n      selectedState: [],\n      totalCases: true,\n      perCapita: false\n    };\n    this.getUSData = this.getUSData.bind(this);\n    this.getStateData = this.getStateData.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUSRequest = this.handleUSRequest.bind(this);\n    this.newStateCases = this.newStateCases.bind(this);\n  }\n\n  getUSData(callback) {\n    return axios.get(csvUrl).then(data => {\n      return callback(data.data);\n    }).catch(error => console.error(error));\n  }\n\n  getStateData(callback, fips) {\n    return axios.get(csvStatesUrl).then(data => {\n      return callback(data.data, fips);\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n\n  async handleUSRequest() {\n    await this.setState({\n      selected: null\n    });\n    console.log(`this.state: `, this.state);\n    await this.getData(csvUrl, Covid.handleCSVResult).then(response => {\n      this.setState({\n        selectedState: response,\n        totalCases: true,\n        perCapita: false\n      }, () => console.log(`this.state: `, this.state));\n    });\n  }\n\n  newStateCases() {\n    this.getData(csvStatesUrl, Covid.handleStatesToggle, this.state.selected).then(response => {\n      console.log(response);\n      this.setState({\n        selectedState: response,\n        totalCases: false\n      }, () => console.log(`this.state: `, this.state));\n    });\n  }\n\n  newUSCases() {\n    this.getData(csvUrl, Covid.handleNewCases).then(response => {\n      console.log(response);\n      this.setState({\n        selectedState: response,\n        totalCases: false\n      }, () => console.log(`this.state: `, this.state));\n    });\n  }\n\n  totalUSPerCapitaCases() {\n    this.getData(csvUrl, Covid.handleTotalUSPerCapita).then(response => {\n      console.log(response);\n      this.setState({\n        selectedState: response,\n        perCapita: true\n      }, () => console.log(`this.state: `, this.state));\n    });\n  }\n\n  newUSPerCapitaCases() {\n    this.getData(csvUrl, Covid.handleUSNewCasesPerCapita).then(response => {\n      console.log(response);\n      this.setState({\n        selectedState: response,\n        perCapita: true\n      }, () => console.log(`this.state: `, this.state));\n    });\n  }\n\n  totalCases() {\n    if (this.state.selected) {\n      this.getData(csvStatesUrl, Covid.handleStateCSVResult, this.state.selected).then(response => {\n        console.log(response);\n        this.setState({\n          selectedState: response,\n          totalCases: true\n        }, () => console.log(`this.state: `, this.state));\n      });\n    } else {\n      this.handleUSRequest();\n    }\n  }\n\n  componentDidMount() {\n    this.handleUSRequest();\n  }\n\n  render() {\n    console.log(`this.state: `, this.state);\n    const dates = this.state.selectedState[0];\n    const cases = this.state.selectedState[1];\n    const deaths = this.state.selectedState[2];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar navbar-dark fixed-top flex-md-nowrap p-0 shadow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"navbar-dark mr-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }\n    }, \"Covid-19\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"navbar-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, this.state.selectedState[3] ? this.state.selectedState[3] : \"United States\", \"\\xA0\", this.state.totalCases ? \"Total Cases/Deaths\" : \"New Cases/Deaths\"), /*#__PURE__*/React.createElement(SearchByState, {\n      className: \"form-control form-control-dark w-100\",\n      onChange: this.handleChange,\n      value: this.state.selectedState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid databox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"col-md-2 d-block sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-sticky\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav flex-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 19\n      }\n    }, this.state.selectedState[3] && /*#__PURE__*/React.createElement(UScases, {\n      handleClick: () => this.handleUSRequest(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }, this.state.totalCases && this.state.selectedState[3] && /*#__PURE__*/React.createElement(StateTotalCases, {\n      handleClick: () => this.newStateCases(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }), this.state.totalCases && !this.state.selectedState[3] && /*#__PURE__*/React.createElement(USTotalCases, {\n      handleClick: () => this.newUSCases(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }), !this.state.totalCases && /*#__PURE__*/React.createElement(NewCases, {\n      handleClick: () => this.totalCases(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"main\", {\n      role: \"main\",\n      className: \"col-md-10 ml-sm-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Dashboard, {\n      labels: dates,\n      cases: cases,\n      deaths: deaths,\n      state: this.state.selectedState[3] ? this.state.selectedState[3] : \"United States\",\n      total: this.state.totalCases ? \"Total\" : \"New\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 18\n      }\n    }, \"Data is from the \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://github.com/nytimes/covid-19-data\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 38\n      }\n    }, \"New York Times\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }, \"Icons made by \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.flaticon.com/authors/srip\",\n      title: \"srip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 32\n      }\n    }, \"srip\"), \" from \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.flaticon.com/\",\n      title: \"Flaticon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 107\n      }\n    }, \"www.flaticon.com\"))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/christinealbert/Coding/covid-19-app/src/components/App.js"],"names":["React","Dashboard","SearchByState","UScases","NewCases","USTotalCases","StateTotalCases","USPerCapitaCases","Covid","axios","require","csvStatesUrl","process","env","REACT_APP_CSV","csvUrl","REACT_APP_USCSV","App","Component","constructor","props","handleChange","selected","setState","value","console","log","state","getData","handleStateCSVResult","then","response","selectedState","totalCases","perCapita","getUSData","bind","getStateData","handleUSRequest","newStateCases","callback","get","data","catch","error","fips","handleCSVResult","handleStatesToggle","newUSCases","handleNewCases","totalUSPerCapitaCases","handleTotalUSPerCapita","newUSPerCapitaCases","handleUSNewCasesPerCapita","componentDidMount","render","dates","cases","deaths"],"mappings":"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","sourcesContent":["import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n//import { GetData } from '../Data/GetData';\nimport './App.css';\nimport Dashboard from './Dashboard/Dashboard';\nimport SearchByState from './../Data/SearchByState';\nimport { UScases } from './Sidebar/UScases';\nimport { NewCases, USTotalCases, StateTotalCases } from './Sidebar/ToggleCases';\nimport { USPerCapitaCases } from './Sidebar/PerCapita';\nimport { Covid } from '../Data/data';\nconst axios = require('axios');\nconst csvStatesUrl = process.env.REACT_APP_CSV;\nconst csvUrl = process.env.REACT_APP_USCSV;\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: null,\n      selectedState: [],\n      totalCases: true,\n      perCapita: false\n    }\n    this.getUSData = this.getUSData.bind(this);\n    this.getStateData = this.getStateData.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUSRequest = this.handleUSRequest.bind(this);\n    this.newStateCases = this.newStateCases.bind(this);\n  }\n  \n  \n  getUSData(callback) {\n    return axios.get(csvUrl).then(data => {\n      return callback(data.data);\n    }).catch(error => console.error(error));\n  }\n  \n  getStateData(callback, fips) {\n    return axios.get(csvStatesUrl).then(data => {\n      return callback(data.data, fips);\n    }).catch(error => {console.error(error)});\n  }\n\n  handleChange = async (selected) => {\n    await this.setState({ selected: selected.value },\n      () => console.log(`state.selected: `, this.state.selected));\n      this.getData(csvStatesUrl, Covid.handleStateCSVResult,this.state.selected).then(response => {\n        console.log(response);\n        this.setState({\n          selectedState: response,\n          totalCases: true\n        }, \n          () => console.log(`this.state: `, this.state));\n      });\n  }\n\n  async handleUSRequest() {\n    await this.setState({selected: null});\n    console.log(`this.state: `,this.state);\n    await this.getData(csvUrl, Covid.handleCSVResult).then(response => {\n      this.setState({\n        selectedState: response,\n        totalCases: true,\n        perCapita: false\n      }, () => console.log(`this.state: `,this.state));\n    });\n  }\n\n  newStateCases() {\n    this.getData(csvStatesUrl, Covid.handleStatesToggle, this.state.selected).then(response => {\n      console.log(response);\n      this.setState({\n        selectedState: response,\n        totalCases: false\n      }, \n        () => console.log(`this.state: `, this.state));\n    });\n  }\n\n  newUSCases() {\n    this.getData(csvUrl, Covid.handleNewCases).then(response => {\n        console.log(response);\n        this.setState({\n          selectedState: response,\n          totalCases: false\n        }, \n          () => console.log(`this.state: `, this.state));\n      })\n  }\n\n  totalUSPerCapitaCases() {\n    this.getData(csvUrl, Covid.handleTotalUSPerCapita).then(response => {\n      console.log(response);\n      this.setState({\n        selectedState: response,\n        perCapita: true\n      },\n      () => console.log(`this.state: `, this.state));\n    });\n  }\n\n  newUSPerCapitaCases() {\n    this.getData(csvUrl, Covid.handleUSNewCasesPerCapita).then(response => {\n      console.log(response);\n      this.setState({\n        selectedState: response,\n        perCapita: true\n      },\n      () => console.log(`this.state: `, this.state));\n    });\n  }\n\n  totalCases() {\n    if (this.state.selected) {\n      this.getData(csvStatesUrl, Covid.handleStateCSVResult, this.state.selected).then(response => {\n        console.log(response);\n        this.setState({\n          selectedState: response,\n          totalCases: true\n        }, \n          () => console.log(`this.state: `, this.state));\n      });\n    } else {\n      this.handleUSRequest();\n    }\n}\n\n  componentDidMount() {\n    this.handleUSRequest();\n  }\n\n  render() {\n    console.log(`this.state: `, this.state);\n    const dates = this.state.selectedState[0];\n    const cases = this.state.selectedState[1];\n    const deaths = this.state.selectedState[2];\n    return (\n      <div className=\"App\">\n        <nav className=\"navbar navbar-dark fixed-top flex-md-nowrap p-0 shadow\">\n          <p className=\"navbar-dark mr-0\">Covid-19</p>\n          <p className=\"navbar-dark\">\n            {this.state.selectedState[3] ? this.state.selectedState[3] : \"United States\"}\n            &nbsp;\n            {this.state.totalCases ? \"Total Cases/Deaths\" : \"New Cases/Deaths\"}\n          </p>\n          <SearchByState \n            className=\"form-control form-control-dark w-100\" \n            onChange={this.handleChange}\n            value={this.state.selectedState}\n            />\n        </nav>\n        <div className=\"container-fluid databox\">\n          <div className=\"row\">\n            <nav className=\"col-md-2 d-block sidebar\">\n              <div className=\"sidebar-sticky\">\n                <ul className=\"nav flex-column\">\n                  <li className=\"nav-item\">\n                    {this.state.selectedState[3] && \n                    <UScases \n                      handleClick={() => this.handleUSRequest()}\n                    />\n                    }\n                  </li>\n                  <li className=\"nav-item\">\n                    {(this.state.totalCases && this.state.selectedState[3]) && \n                    <StateTotalCases \n                      handleClick={() => this.newStateCases()}\n                    /> }\n                    {(this.state.totalCases && !this.state.selectedState[3]) &&\n                    <USTotalCases\n                      handleClick={() => this.newUSCases()}\n                    /> }\n                    {!this.state.totalCases && \n                    <NewCases \n                    handleClick={() => this.totalCases()}\n                    />\n                    }\n                  </li>\n                  <li className=\"nav-item\">\n                    {/* \n                    <USPerCapitaCases \n                      handleClick={() => this.perCapitaUSCases()}\n                    />\n                    \n                    */}\n                    \n                  </li>\n                </ul>\n              </div>\n            </nav>\n            <main role=\"main\" className=\"col-md-10 ml-sm-auto\">\n            <Dashboard \n                labels={dates}\n                cases={cases}\n                deaths={deaths}\n                state={this.state.selectedState[3] ? this.state.selectedState[3] : \"United States\"}\n                total={this.state.totalCases ? \"Total\" : \"New\"}\n              />\n            </main>\n            <div><p>Data is from the <a href=\"https://github.com/nytimes/covid-19-data\" target=\"_blank\" rel=\"noopener noreferrer\" >New York Times</a></p>\n              <p>Icons made by <a href=\"https://www.flaticon.com/authors/srip\" title=\"srip\">srip</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></p></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}